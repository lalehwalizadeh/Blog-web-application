<%- include('partials/header.ejs') %>

<div class="new-post-form">
	<form class="new-form" action="/submit" method="POST"  enctype="multipart/form-data">
		<label for="tit">Title:</label>
		<input class="inp" type="text" name="title" id="tit" required/>
		<label for="dec"> Description:</label>
		<textarea class="inp" name="description" id="dec" required></textarea>
		<label for="file">Upload Image:
			<input class="inp-img" type="file" onchange="display()" id="fileImage" name="img" accept="img/*" required>
			<div class="imeg">
				<img  id="pic" src= "/images/placeholder.jpg " alt="placeholder Image"></img>
				
			</div>
		</label>
		<button type="submit" class="btn">submit</button>
	</form>

</div>
</main>

<script>
	function display() {
		
	  const fileInput = document.getElementById("fileImage");
	  const image = document.getElementById("pic");
  
	  if (fileInput.files && fileInput.files[0]) {
		const reader = new FileReader();
  
		reader.onload = function (e) {
		  image.src = e.target.result;
		};
  
		reader.readAsDataURL(fileInput.files[0]);
	  }
	}
	
  </script>
<%- include('partials/footer.ejs') %>
